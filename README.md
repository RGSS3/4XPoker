# 4XPoker

目前还只有3X 但已经spec好了一大堆（？）
以下是Gemini写的说明
---
好的，这是一个基于当前代码功能的简单游戏功能说明，强调了现有的核心机制，并说明了它是一款受4X概念启发、基于扑克牌的单人游戏。

---

**《文明4X扑克》功能说明**

这是一款受经典4X游戏（探索Explore、扩张Expand、开发Exploit、征服Exterminate）启发，以扑克牌为核心玩法的单人回合制游戏。你将使用一副标准的52张扑克牌，在一个由四条不同路径（陆地、海洋、沙漠、天空）组成的地图上，通过出牌来探索、扩张、开发并应对挑战，建立属于你的文明。

**核心玩法：**

*   **游戏地图：** 地图分为4条路径，每条路径有13个区域，对应扑克牌的1到13等级。
*   **手牌与牌堆：** 你从牌堆抽牌，在手牌中选择卡牌进行行动。
*   **行动阶段：** 每回合你可以从手牌中选择卡牌，并点击地图区域执行行动：
    *   **探索 (Explore):**
        *   使用一张手牌来探索相邻（下方等级）的未探索区域。
        *   卡牌点数必须大于或等于区域等级。
        *   使用 **黑桃♠** 探索时，卡牌点数翻倍计算。
        *   探索成功获得少量分数，并解锁该区域变为“已探索”状态。
        *   某些高级区域可能被“战争区域”阻碍，必须先解除战争才能继续探索。
    *   **占领 (Expand/Occupy):**
        *   使用一张手牌来占领已探索的区域。
        *   占领的区域通常会在每回合为你提供分数收入。
        *   使用 **红桃♥** 占领普通或回声区域时，每回合得分更高。
        *   **回声区域：** 占领时能根据卡牌点数提供更高的每回合得分。
        *   **遗忘区域：** 无法提供每回合得分，但占领它可能有助于连接路径。
    *   **弃牌：** 从手牌中选择任意数量的卡牌弃入弃牌堆，不获得分数。
*   **特殊区域与开发 (Exploit/Develop):**
    *   **奇观区域：** 地图上会出现强大的奇观区域。它们需要使用特定的卡牌（J、Q、K、A 或 红桃♥）才能占领。占领奇观除了提供即时高分外，还会激活强大的文明发展效果，例如：
        *   每回合额外抽牌。
        *   增加手牌上限。
        *   提供额外的每回合固定得分。
        *   提供特殊花色收获加成（根据该路径上特定花色占领卡的数量计算额外得分）。
*   **挑战与应对 (Exterminate/Combat):**
    *   **战争区域：** 地图上会出现战争区域，它们会阻碍同路径上更高级区域的探索。
    *   应对战争区域的方式：
        *   **使用手牌解除：** 选择多张手牌，如果组合满足战争区域要求的特定牌型（如一对、三条、顺子、同花等），可以解除战争。使用 **方片♦** 可以作为万能牌代**替任意一张牌**来满足牌型要求。成功解除后，战争区域变为回声区域。
        *   **接受惩罚：** 如果选择不使用手牌解除，或者无法解除，回合结束时必须接受战争区域带来的负面效果惩罚。惩罚种类多样，包括移除已占领区域的卡牌、损失当回合收入、将探索区域变回未探索，或将自身上方区域变为遗忘区域。如果惩罚需要移除卡牌但数量不足，每缺少一张将受到100分的扣罚。接受惩罚后，战争区域变为遗忘区域。
*   **回合结束：** 执行完行动后，你可以选择结束回合。游戏会结算你所有已占领区域（包括奇观效果和掠夺惩罚）的总回合得分，并从牌堆抽取新的卡牌到手牌（受手牌上限和奇观效果影响）。
*   **征服奖励：** 当你成功占领一条路径上的全部13个区域时，将获得一笔基于该路径上特定花色卡牌数量的额外高分奖励。
*   **游戏结束：** 当牌堆和你的手牌全部用尽时，游戏结束，最终得分即为你的文明成就。

**其他特性：**

*   **游戏种子：** 游戏布局和牌序由游戏种子决定，你可以输入或分享种子来重玩或挑战特定布局。
*   **历史记录：** 游戏会自动记录你的每一步操作，你可以随时查看历史进程，甚至回溯到之前的任意一步重新开始。
*   **撤销：** 支持撤销最近一步操作。

**当前状态：**

本游戏目前已实现了探索、扩张、基于奇观和回声区域的开发、以及独特的战争区域处理机制。距离完整的4X概念，例如更深入的科技树、资源管理或更复杂的战斗/外交系统，还有待后续开发，目前更接近于一个专注于卡牌策略和区域管理的“3X”游戏体验。
